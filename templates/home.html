<!DOCTYPE html>
<html>
 
<head>
    <title>Find your emotion</title>
    <link rel="stylesheet" href="../static/stylesheet.css/" />
</head>

<body> 
    <div style="width:100%; height:100%"> 
        <form method=post enctype=multipart/form-data>
            <div style="width:100%;"> 
                <div class="div1">
                    <div class="div2"></div> 
                    <div class="maindiv">
                        Find your emotion
                    </div>  
                    <div class="contentdiv">
                        <br><br>This service allows you to discover emotion inherent in the image. You can find the most matchable emotion category of the image. 
                        It is useful for opinion analyzer, marketer, and social media user who want to understand emotions through image.
                        <br>If you have any questions about this project, please contact us.
                        <br>Hope you enjoy! 
                    </div>    
                </div>   
            </div>  
            
            <!-- new line -->
            <div class="div3"> 
                <div style="background-color:yellow; color:whitesmoke; padding:0%; height:inherit; width:100%">
                    <div style="display: flex;float:left; justify-content: center; background-color:rgba(245, 245, 245, 0.2); margin:2%; margin-right:1%; width:17%;"></div>

                    <div style="display: flex; float:left; align-items: center; background-color:rgba(245, 245, 245, 0.2); margin:2%; margin-right:1%; margin-left:1%; margin-bottom:1%;  width:13%;">  
                        <label style="display: flex; justify-content: center;" for="inputfile" onclick="if(navigator.appVersion.indexOf('MSIE') != -1){img2.click()}">
                            <img id='diplay-image' style="object-fit:cover; display: block; max-height:100%; max-width:100%; cursor:pointer; padding:2%" src="static/11.png" > 
                        </label>            
                        <input type="file" id="inputfile" name="file" class="form-control-file" style='display:none;' accept=".jpg, .jpeg, .png" onchange="loadFile(event)";>                         
                    </div> 

                    <div class="gallerydiv">
                        <img class="gallery1" style="object-fit:cover; display: block; max-height:100%; max-width:100%;", src='static/2.jpg'>
                    </div>

                    <div class="gallerydiv">
                        <img class="gallery1" style="object-fit:cover; display: block; max-height:100%; max-width:100%;", src='static/33.png'>
                    </div>

                    <div class="gallerydiv">
                        <img class="gallery1" style="object-fit:cover; display: block; max-height:100%; max-width:100%;", src='static/4.png'>
                    </div>

                    <div style="display: flex;float:left; justify-content: center; background-color:rgba(245, 245, 245, 0.2); margin:2%; margin-left:1%; margin-bottom:1%; width:17%;"></div>
                </div>   
            </div>

            
            <!-- new line -->
            <div class="div3"> 
                <div style="background-color:yellow; color:whitesmoke; padding:0%; height:inherit; width:100%">
                    <div style="display: flex;float:left; justify-content: center; background-color:rgba(245, 245, 245, 0.2); margin:2%; margin-right:1%; margin-top:1%; margin-bottom:0%; height:46%; width:17%;"></div>

                    <div class="gallerydiv">  
                        <img class="gallery1" src='static/5.jpg'>                     
                    </div>

                    <div class="gallerydiv">
                        <img class="gallery1" src='static/6.jpg'>
                    </div>

                    <div class="gallerydiv">
                        <img class="gallery1" src='static/7.jpg'>
                    </div>

                    <div class="gallerydiv">
                        <img class="gallery1" src='static/8.png'>
                    </div>

                    <div style="display: flex;float:left; justify-content: center; background-color:rgba(245, 245, 245, 0.2); margin:2%; margin-left:1%; margin-bottom:0%; height:46%; width:17%;"></div>
                </div>   
            </div>

            <!-- new line -->
            <button class='w-btn w-btn-indigo' id='button1' type="submit">Run</button>
        </form>
    </div>    
    <script src="//code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="//stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <script type="text/javascript">
        $('#inputfile').bind('change', function() {
            let fileSize = this.files[0].size/1024/1024; // this gives in MB
            if (fileSize > 1) {
                $("#inputfile").val(null);
                alert('file is too big. images more than 1MB are not allowed')
                return
            }
            let ext = $('#inputfile').val().split('.').pop().toLowerCase();
            if($.inArray(ext, ['jpg', 'jpeg', 'png']) == -1) {
                $("#inputfile").val(null);
                alert('only jpeg/jpg files are allowed!');
            }
        });

        $('#button1').click(function() {
            if ($("#inputfile").val()=="") {
                alert('please attach the file!')
                return false;
            }
        });
        
        var loadFile = function(event) {
            var image = document.getElementById('diplay-image');  
            if($.inArray($('#inputfile').val().split('.').pop().toLowerCase(), ['jpg','jpeg', 'png']) != -1) { 
                image.src = URL.createObjectURL(event.target.files[0]);
                image.class = "gallery1";
                image.style = "border: 10px dotted; width:100%; height:100%; cursor:pointer;"
            }
        };
    </script>
</body>
</html> 